<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>推免综合成绩计算 - 厦门大学保研助手</title>
    <style>
        .form-group { margin: 20px 0; }
        label { display: block; margin-bottom: 8px; font-size: 18px; }
        input { padding: 10px; width: 300px; font-size: 16px; }
        .submit-btn { padding: 12px 25px; background: #2ecc71; color: white; border: none; border-radius: 4px; font-size: 16px; cursor: pointer; }
        .result-box { margin: 30px 0; padding: 20px; background: #f8f9fa; border-radius: 4px; border-left: 5px solid #2ecc71; }
        .formula { font-size: 16px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>厦门大学推免综合成绩计算</h1>
    <p>根据《厦门大学信息学院推免工作实施细则》：推免综合成绩=学业综合成绩×80% + 学术专长成绩（满分15分） + 综合表现成绩（满分5分）</p>

    <form method="POST">
        {% csrf_token %}
        <div class="form-group">
            <label for="academic_performance">请输入你的学业综合成绩（如85.5分，来自成绩单GPA排名换算）：</label>
            <input type="number" id="academic_performance" name="academic_performance" step="0.1" min="0" max="100" required>
        </div>
        <button type="submit" class="submit-btn">计算推免综合成绩</button>
    </form>

    {% if total_score > 0 %}
        <div class="result-box">
            <h3>你的推免综合成绩预估</h3>
            <p class="formula">学业综合成绩×80% = {{ academic_performance|default:0 }} × 0.8 = {{ academic_performance|default:0|floatformat:2 }} × 0.8 = {{ academic_performance|default:0|mul:0.8|floatformat:2 }}</p>
            <p class="formula">学术专长成绩（满分15分）：{{ final_academic }} 分</p>
            <p class="formula">综合表现成绩（满分5分）：{{ final_performance }} 分</p>
            <p class="formula"><strong>推免综合成绩 = {{ academic_performance|default:0|mul:0.8|floatformat:2 }} + {{ final_academic }} + {{ final_performance }} = {{ total_score }} 分</strong></p>
        </div>
    {% endif %}

    <hr>
    <p><a href="{% url 'score_list' %}">查看我的加分项</a> | <a href="{% url 'add_score' %}">添加加分项</a> | <a href="{% url 'index' %}">返回首页</a></p>
</body>
</html>